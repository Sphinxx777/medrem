# MedRem — «фото рецепта → событие в календаре»

Веб‑приложение позволяет врачу сфотографировать бумажный рецепт и мгновенно
создать **ICS‑файл** с расписанием приёма лекарств.  
Пациент сканирует сгенерированный QR‑код или открывает файл и добавляет события в свой календарь.

## Возможности

* Загрузка фото рецепта (JPEG/PNG).
* Интеграция с **Google Gemini** для распознавания медикаментов и генерации ICS.
* Хранение ICS на сервере, публичная ссылка.
* Генерация QR‑кода (PNG, встроенный base64) на ссылку ICS.
* Полностью в Docker, 1 команда — и готово к работе.

## Быстрый старт

```bash
git clone https://github.com/yourname/medrem.git
cd medrem
cp .env.example .env            # впишите свой GEMINI_API_KEY
docker compose up --build
```

Откройте `http://localhost:8005` — загрузите изображение рецепта, получите QR‑код.

## Переменные окружения

| Переменная        | Описание                           | Обязательно | По умолчанию           |
|-------------------|------------------------------------|-------------|-------------------------|
| `GEMINI_API_KEY`  | ключ Google Generative AI          | ✅          | —                       |
| `APP_HOST`        | адрес прослушивания сервера        | ❌          | `0.0.0.0`               |
| `APP_PORT`        | порт сервера внутри контейнера     | ❌          | `8005`                  |
| `APP_BASE_URL`    | базовый URL (для QR‑кода)          | ❌          | `http://localhost:8005` |

## Архитектура

* **FastAPI** — HTTP‑слой.
* **services/** — доменные сервисы:
  * `LLMService` — работа с LLM.
  * `ICSService` — сохранение и формальная корректировка ICS.
  * `QRService` — генерация QR‑кода.
* **Stateless**: приложение не хранит пользовательские данные в БД.

MIT‑лицензия.
